(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03977284"],{"1b7a":function(e,a,l){},9558:function(e,a,l){"use strict";l("1b7a")},b8f7:function(e,a,l){"use strict";l.r(a);var t=function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("page",[l("div",{staticStyle:{"margin-bottom":"30px"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.openAddCampus(!0,"添加校区",null)}}},[e._v("添加校区")])],1),l("common-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,headers:e.headers,paging:!0,"total-num":e.total,"page-num":e.page,"size-num":e.limit},on:{"update:pageNum":function(a){e.page=a},"update:page-num":function(a){e.page=a},"update:sizeNum":function(a){e.limit=a},"update:size-num":function(a){e.limit=a},callback:e.getCampusList},scopedSlots:e._u([{key:"operation",fn:function(a){var t=a.row;return[l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.openAddCampus(!0,"编辑校区",t)}}},[e._v("编辑")]),l("el-button",{staticClass:"btn-delete",attrs:{type:"text"}},[e._v("删除")])]}}])}),l("add-campus",{attrs:{show:e.showAddCampus,title:e.title,"campus-info":e.campusInfo},on:{"update:show":function(a){e.showAddCampus=a},callback:e.campusCallback}})],1)},i=[],o=l("caa4"),s=l("c466"),n=function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("common-dialog",{attrs:{visible:e.visible,title:e.title,"submit-loading":e.submitLoading},on:{"update:visible":function(a){e.visible=a},submit:e.postDataForCampus,open:e.onOpen},scopedSlots:e._u([{key:"content",fn:function(){return[l("div",{staticClass:"myfrom"},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"校区名称"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{maxlength:"20",placeholder:"请输入校区名称"},model:{value:e.form.campus_name,callback:function(a){e.$set(e.form,"campus_name",a)},expression:"form.campus_name"}})],1),l("el-form-item",{attrs:{label:"校区地址"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.city},on:{change:e.handleChange},model:{value:e.cityArr,callback:function(a){e.cityArr=a},expression:"cityArr"}})],1),l("el-form-item",{attrs:{label:"详细地址"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{maxlength:"50",placeholder:"请输入校区详细地址"},model:{value:e.form.address,callback:function(a){e.$set(e.form,"address",a)},expression:"form.address"}})],1)],1)],1)]},proxy:!0}])})},u=[],c=(l("d81d"),l("b64b"),[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"导航",children:[{value:"cxdh",label:"侧向导航"},{value:"dbdh",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typog",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"check",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"inputr",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascadr",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-pi",label:"TimePicker 时间选择器"},{value:"dateker",label:"DatePicker 日期选择器"},{value:"dacker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"prress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"paation",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"e-box",label:"MessageBox 弹框"},{value:"notion",label:"Notification 通知"}]},{value:"nation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"brerumb",label:"Breadcrumb 面包屑"},{value:"drown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popoer",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carsel",label:"Carousel 走马灯"},{value:"collpse",label:"Collapse 折叠面板"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}]),r={props:{show:{type:Boolean,default:!1},title:{type:String,defalut:""},campusInfo:{type:Object,default:null}},data:function(){return{form:{campus_name:"",address:"",province:"",city:"",area:""},city:c,cityArr:[],submitLoading:!1}},computed:{visible:{get:function(){return this.show},set:function(e){this.$emit("update:show",e)}}},methods:{handleChange:function(e){console.log(e),this.form.province=e[0]||this.form.province,this.form.city=e[1]||this.form.city,this.form.area=e[2]||this.form.area},onOpen:function(){var e=this;this.campusInfo?(Object.keys(this.form).map((function(a){e.form[a]=e.campusInfo[a]})),this.cityArr=[this.form.province,this.form.city,this.form.area]):(Object.keys(this.form).map((function(a){e.form[a]=""})),this.cityArr=[])},postDataForCampus:function(){this.campusInfo?this.campusUpdate():this.campusCreate()},campusUpdate:function(){var e=this,a={campus_id:this.campusInfo.id};this.submitLoading=!0,Object(o["b"])(a,this.form).then((function(a){e.submitLoading=!1,e.$message({message:"更新成功",type:"success"}),e.visible=!1,e.$emit("callback")})).catch((function(a){e.submitLoading=!1,e.$message.error(a)}))},campusCreate:function(){var e=this,a={school_id:this.school_id};this.submitLoading=!0,Object(o["a"])(a,this.form).then((function(a){e.submitLoading=!1,e.$message({message:"创建成功",type:"success"}),e.visible=!1,e.$emit("callback")})).catch((function(a){e.submitLoading=!1,e.$message.error(a)}))}}},m=r,d=(l("9558"),l("2877")),p=Object(d["a"])(m,n,u,!1,null,"1e92a24b",null),b=p.exports,h={components:{addCampus:b},data:function(){return{loading:!1,list:[],headers:[{prop:"campus_name",label:"校区名称"},{prop:"address",label:"详细地址"},{prop:"created_at",label:"创建时间",formatter:function(e,a,l){return Object(s["a"])(l,"YYYY-MM-DD")}}],total:0,page:1,limit:10,showAddCampus:!1,title:"",campusInfo:{}}},created:function(){this.getCampusList()},methods:{campusCallback:function(){this.getCampusList()},openAddCampus:function(e,a,l){this.showAddCampus=e,this.title=a,this.campusInfo=l},getCampusList:function(){var e=this;this.loading=!0,Object(o["c"])({school_id:this.school_id,page:this.page,limit:this.limit}).then((function(a){e.loading=!1,e.list=a.data.item,e.total=a.data.total,console.log("res:",a)})).catch((function(){e.loading=!1}))}}},v=h,f=Object(d["a"])(v,t,i,!1,null,null,null);a["default"]=f.exports}}]);